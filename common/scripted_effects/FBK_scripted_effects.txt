FBK_clear_ministers = {
	remove_ideas = {
		FBK_kyosti_kallio
		FBK_juho_niukkanen
		FBK_rudolf_holsti
		FBK_kalle_kauppi
		FBK_ernst_von_born_pyp
		FBK_janne_nilsson
		FBK_aarne_sihvo
		FBK_helge_stromback
		FBK_gosta_bagge
		FBK_kyosti_jarvinen
		FBK_ernst_trygger
		FBK_yrjo_pulkkinen
		FBK_natanael_garde
		FBK_yrjo_puhakka
		FBK_arvi_oksala
		FBK_hugo_osterman
		FBK_eero_rahola
		FBK_carl_gustaf_emil_mannerheim
		FBK_kaarlo_castren
		FBK_carl_enckell
		FBK_nils_wohlin
		FBK_ernst_von_born_pym
		FBK_karl_soderholm
		FBK_arthur_castren
		FBK_rudolf_walden
		FBK_otto_lybeck
		FBK_sven_linderot
		FBK_olof_aschberg
		FBK_zeth_hoglund
		FBK_eero_haapalainen
		FBK_fritjof_lager
		FBK_ture_nerman
		FBK_edvard_gylling
		FBK_august_wesley
		FBK_verner_lehtimaki
		FBK_herman_gummerus
		FBK_elias_simojoki
		FBK_otto_piisinen
		FBK_paavo_susitalval
		FBK_hjalmar_von_bonsdorff
		FBK_reidar_hedman
		FBK_antti_isotalon
		FBK_carl_axel_johan_gadolin
		FBK_hilja_riipinen
	}
	deactivate_advisor = FBK_kyosti_kallio_char
	deactivate_advisor = FBK_juho_niukkanen_char
	deactivate_advisor = FBK_rudolf_holsti_char
	deactivate_advisor = FBK_kalle_kauppi_char
	deactivate_advisor = FBK_ernst_von_born_pyp_char
	deactivate_advisor = FBK_janne_nilsson_char
	deactivate_advisor = FBK_aarne_sihvo_char
	deactivate_advisor = FBK_helge_stromback_char
	deactivate_advisor = FBK_gosta_bagge_char
	deactivate_advisor = FBK_kyosti_jarvinen_char
	deactivate_advisor = FBK_ernst_trygger_char
	deactivate_advisor = FBK_yrjo_pulkkinen_char
	deactivate_advisor = FBK_natanael_garde_char
	deactivate_advisor = FBK_yrjo_puhakka_char
	deactivate_advisor = FBK_arvi_oksala_char
	deactivate_advisor = FBK_hugo_osterman_char
	deactivate_advisor = FBK_eero_rahola_char
	deactivate_advisor = FBK_carl_gustaf_emil_mannerheim_char
	deactivate_advisor = FBK_kaarlo_castren_char
	deactivate_advisor = FBK_carl_enckell_char
	deactivate_advisor = FBK_nils_wohlin_char
	deactivate_advisor = FBK_ernst_von_born_pym_char
	deactivate_advisor = FBK_karl_soderholm_char
	deactivate_advisor = FBK_arthur_castren_char
	deactivate_advisor = FBK_rudolf_walden_char
	deactivate_advisor = FBK_otto_lybeck_char
	deactivate_advisor = FBK_sven_linderot_char
	deactivate_advisor = FBK_olof_aschberg_char
	deactivate_advisor = FBK_zeth_hoglund_char
	deactivate_advisor = FBK_eero_haapalainen_char
	deactivate_advisor = FBK_fritjof_lager_char
	deactivate_advisor = FBK_ture_nerman_char
	deactivate_advisor = FBK_edvard_gylling_char
	deactivate_advisor = FBK_august_wesley_char
	deactivate_advisor = FBK_verner_lehtimaki_char
	deactivate_advisor = FBK_herman_gummerus_char
	deactivate_advisor = FBK_elias_simojoki_char
	deactivate_advisor = FBK_otto_piisinen_char
	deactivate_advisor = FBK_paavo_susitalval_char
	deactivate_advisor = FBK_hjalmar_von_bonsdorff_char
	deactivate_advisor = FBK_reidar_hedman_char
	deactivate_advisor = FBK_antti_isotalon_char
	deactivate_advisor = FBK_carl_axel_johan_gadolin_char
	deactivate_advisor = FBK_hilja_riipinen_char
}

FBK_switch_first_minister = {
	remove_ideas = {
		FBK_kyosti_kallio
		FBK_gosta_bagge
		FBK_carl_gustaf_emil_mannerheim
		FBK_sven_linderot
		FBK_herman_gummerus
	}
	deactivate_advisor = FBK_kyosti_kallio_char
	deactivate_advisor = FBK_gosta_bagge_char
	deactivate_advisor = FBK_carl_gustaf_emil_mannerheim_char
	deactivate_advisor = FBK_sven_linderot_char
	deactivate_advisor = FBK_herman_gummerus_char
}

FBK_switch_finance_minister = {
	remove_ideas = {
		FBK_otto_piisinen
		FBK_juho_niukkanen
		FBK_kyosti_jarvinen
		FBK_kaarlo_castren
		FBK_olof_aschberg
	}
	deactivate_advisor = FBK_otto_piisinen_char
	deactivate_advisor = FBK_juho_niukkanen_char
	deactivate_advisor = FBK_kyosti_jarvinen_char
	deactivate_advisor = FBK_kaarlo_castren_char
	deactivate_advisor = FBK_olof_aschberg_char
}

FBK_switch_economy_minister = {
	remove_ideas = {
		FBK_kalle_kauppi
		FBK_yrjo_pulkkinen
		FBK_nils_wohlin
		FBK_carl_axel_johan_gadolin
		FBK_eero_haapalainen
	}
	deactivate_advisor = FBK_kalle_kauppi_char
	deactivate_advisor = FBK_yrjo_pulkkinen_char
	deactivate_advisor = FBK_nils_wohlin_char
	deactivate_advisor = FBK_carl_axel_johan_gadolin_char
	deactivate_advisor = FBK_eero_haapalainen_char
}

FBK_switch_armaments_minister = {
	remove_ideas = {
		FBK_janne_nilsson
		FBK_arvi_oksala
		FBK_rudolf_walden
		FBK_antti_isotalon
		FBK_edvard_gylling
	}
	deactivate_advisor = FBK_janne_nilsson_char
	deactivate_advisor = FBK_arvi_oksala_char
	deactivate_advisor = FBK_rudolf_walden_char
	deactivate_advisor = FBK_antti_isotalon_char
	deactivate_advisor = FBK_edvard_gylling_char
}

FBK_switch_army_chief = {
	remove_ideas = {
		FBK_aarne_sihvo
		FBK_hugo_osterman
		FBK_carl_gustaf_emil_mannerheim_army
		FBK_august_wesley
		FBK_paavo_susitalval
	}
	deactivate_advisor = FBK_aarne_sihvo_char
	deactivate_advisor = FBK_hugo_osterman_char
	deactivate_advisor = FBK_carl_gustaf_emil_mannerheim_char
	deactivate_advisor = FBK_august_wesley_char
	deactivate_advisor = FBK_paavo_susitalval_char
}

FBK_switch_navy_chief = {
	remove_ideas = {
		FBK_hjalmar_von_bonsdorff
		FBK_verner_lehtimaki
		FBK_eero_rahola
		FBK_otto_lybeck
		FBK_helge_stromback
	}
	deactivate_advisor = FBK_hjalmar_von_bonsdorff_char
	deactivate_advisor = FBK_verner_lehtimaki_char
	deactivate_advisor = FBK_eero_rahola_char
	deactivate_advisor = FBK_otto_lybeck_char
	deactivate_advisor = FBK_helge_stromback_char
}

FBK_switch_interior_minister = {
	remove_ideas = {
		FBK_elias_simojoki
		FBK_ture_nerman
		FBK_yrjo_puhakka
		FBK_arthur_castren
	}
	deactivate_advisor = FBK_elias_simojoki_char
	deactivate_advisor = FBK_ture_nerman_char
	deactivate_advisor = FBK_yrjo_puhakka_char
	deactivate_advisor = FBK_arthur_castren_char
}

FBK_switch_foreign_minister = {
	remove_ideas = {
		FBK_rudolf_holsti
		FBK_ernst_trygger
		FBK_carl_enckell
		FBK_reidar_hedman
		FBK_zeth_hoglund
	}
	deactivate_advisor = FBK_rudolf_holsti_char
	deactivate_advisor = FBK_ernst_trygger_char
	deactivate_advisor = FBK_carl_enckell_char
	deactivate_advisor = FBK_reidar_hedman_char
	deactivate_advisor = FBK_zeth_hoglund_char
}

FBK_switch_allegiance_minister = {
	remove_ideas = {
		FBK_fritjof_lager
		FBK_hilja_riipinen
		FBK_natanael_garde
		FBK_karl_soderholm
		FBK_ernst_von_born_pyp
	}
	deactivate_advisor = FBK_fritjof_lager_char
	deactivate_advisor = FBK_hilja_riipinen_char
	deactivate_advisor = FBK_natanael_garde_char
	deactivate_advisor = FBK_karl_soderholm_char
	deactivate_advisor = FBK_ernst_von_born_pyp_char
}

FBK_pro_yagoo_conservative_cabinet = {
	add_ideas = {
		FBK_gosta_bagge
		FBK_kyosti_kallio
		FBK_yrjo_pulkkinen
		FBK_arvi_oksala
		FBK_hugo_osterman
		FBK_eero_rahola
		FBK_yrjo_puhakka
		FBK_ernst_trygger
		FBK_natanael_garde
	}
}

FBK_pro_yagoo_progressive_cabinet = {
	add_ideas = {
		FBK_kyosti_kallio
		FBK_otto_piisinen
		FBK_kalle_kauppi
		FBK_janne_nilsson
		FBK_aarne_sihvo
		FBK_helge_stromback
		FBK_herman_zetterberg
		FBK_rudolf_holsti
		FBK_ernst_von_born_pyp
	}
}

FBK_pro_yagoo_monarchy_cabinet = {
	add_ideas = {
		FBK_carl_gustaf_emil_mannerheim
		FBK_kaarlo_castren
		FBK_nils_wohlin
		FBK_rudolf_walden
		FBK_carl_gustaf_emil_mannerheim_army
		FBK_otto_lybeck
		FBK_arthur_castren
		FBK_carl_enckell
		FBK_karl_soderholm
	}
}

FBK_pro_resistance_revolutionary_cabinet = {
	add_ideas = {
		FBK_sven_linderot
		FBK_olof_aschberg
		FBK_eero_haapalainen
		FBK_edvard_gylling
		FBK_august_wesley
		FBK_verner_lehtimaki
		FBK_ture_nerman
		FBK_zeth_hoglund
		FBK_fritjof_lager
	}
}

FBK_pro_resistance_nationalism_cabinet = {
	add_ideas = {
		FBK_herman_gummerus
		FBK_otto_piisinen
		FBK_carl_axel_johan_gadolin
		FBK_antti_isotalon
		FBK_paavo_susitalval
		FBK_hjalmar_von_bonsdorff
		FBK_elias_simojoki
		FBK_reidar_hedman
		FBK_hilja_riipinen
	}
}

FBK_modified_defeatism = {
	clamp_variable = {
		var = FBK.defeatism_level
		min = 0
		max = 100
	}
	clear_variable = FBK.defeatism_calculator
	clear_variable = FBK.defeatism_level_modifier
	set_temp_variable = {
		var = FBK.defeatism_calculator
		value = FBK.defeatism_level
	}
	divide_temp_variable = {
		var = FBK.defeatism_calculator
		value = 100
	}
	subtract_from_temp_variable = {
		var = FBK.defeatism_calculator
		value = 0.75
	}
	if = {
		limit = {
			check_variable = {
				var = FBK.defeatism_calculator
				value = 0
				compare = greater_than_or_equals
			}
		}
		divide_temp_variable = {
			var = FBK.defeatism_calculator
			value = 5
		}
		else = {
			divide_temp_variable = {
				var = FBK.defeatism_calculator
				value = 2
			}
		}
	}
	set_variable = {
		var = FBK.defeatism_level_modifier
		value = FBK.defeatism_calculator
	}
}

FBK_army_variables = {
	# Set army counts
	set_variable = {
		FBK.army_national_army_divisions_count = FBK.num_armies
	}
	set_variable = {
		FBK.army_WFA_divisions_count = FBK.num_armies_with_type@wfa_army_infantry
	}
	subtract_from_variable = {
		FBK.army_national_army_divisions_count = FBK.army_WFA_divisions_count
	}
	set_variable = {
		FBK.army_WFA_to_NA_count = FBK.army_WFA_divisions_count
	}
	set_variable = {
		FBK.army_NA_to_WFA_count = FBK.army_national_army_divisions_count
	}
	subtract_from_variable = {
		FBK.army_WFA_to_NA_count = FBK.army_national_army_divisions_count
	}
	subtract_from_variable = {
		FBK.army_NA_to_WFA_count = FBK.army_WFA_divisions_count
	}
	#Sets army ratios
	set_variable = {
		FBK.army_national_army_divisions_ratio = FBK.army_national_army_divisions_count
	}
	set_variable = {
		FBK.army_WFA_divisions_ratio = FBK.army_WFA_divisions_count
	}
	divide_variable = {
		FBK.army_national_army_divisions_ratio = FBK.num_armies
	}
	divide_variable = {
		FBK.army_WFA_divisions_ratio = FBK.num_armies
	}
	#Sets army count modifier. 
	set_variable = {
		FBK.army_balance_modifier_value = FBK.army_WFA_divisions_ratio
	}
	subtract_from_variable = {
		FBK.army_balance_modifier_value = FBK.army_national_army_divisions_ratio
	}
	#Applies modifier to relationship variable
	set_temp_variable = {
		WFA_relationship_temp_var = FBK.WFA_relationship_flat_var
	}
	set_temp_variable = {
		WFA_relationship_balance_temp_var = FBK.WFA_relationship_flat_var
	}
	multiply_temp_variable = {
		WFA_relationship_balance_temp_var = FBK.army_balance_modifier_value
	}
	add_to_temp_variable = {
		WFA_relationship_temp_var = WFA_relationship_balance_temp_var
	}
	set_variable = {
		FBK.WFA_relationship_var = WFA_relationship_temp_var
	}
}

FBK_spawn_wfa_divisions_effect = {
	hidden_effect = {
		capital_scope = {
			create_unit = {
				division = "division_template = \"WFA Division\" start_experience_factor = 0 start_equipment_factor = 0.01"
				owner = FBK
				count = FBK.number_armies_selected
			}
		}
		set_country_flag = FBK_army_units_raised_flag
	}
}

FBK_spawn_na_divisions_effect = {
	hidden_effect = {
		capital_scope = {
			create_unit = {
				division = "division_template = \"National Division\" start_experience_factor = 0 start_equipment_factor = 0.01"
				owner = ROOT
				count = ROOT.number_armies_selected
			}
		}
		set_country_flag = FBK_army_units_raised_flag
	}
}

FBK_delete_na_divisions_effect = {
	FBK = {
		delete_unit_template_and_units = {
			division_template = "Hemvarnet Bataljonen"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Gransbevakningsbataljonen"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Infanteridivisionen"
			disband = yes
		}
		delete_unit_template_and_units = {
			division_template = "Kungliga Pansarbrigaden"
			disband = yes
		}
	}
}

FBK_trigger_russian_revolt = {
	every_state = {
		limit = {
			is_owned_and_controlled_by = FBK
			is_core_of = RSR
			NOT = {
				is_core_of = KRO
			}
		}
		transfer_state_to = NOV
	}
	NOV = {
		NOV_revolt_against_fubuki_oob = yes
		two_random_militia = yes
		two_random_militia = yes
		two_random_militia = yes
		two_random_militia = yes
		two_random_militia = yes
		two_random_militia = yes
		two_random_militia = yes
		two_random_militia = yes
		declare_war_on = {
			target = FBK
			type = annex_everything
		}
	}
}
